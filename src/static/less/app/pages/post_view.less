
@import "../components/formatting.less";
@import "../components/labels.less";
@import "../common.less";
@import "./comments.less";

@media (max-width: @postColWidth) {
	.qi-box {
		min-width: 0 !important;
		max-width: 100% !important;
		width: 100% !important;
		display: block !important;

		.postCol {
			max-width: 100%;
			padding: 0;
			width: 100%;
			.postHeader {
				padding: 20px;
			}
			.postBody {
				padding: 20px;
			}
		}
	}
}

[data-page=post],
[data-page=problem] {
	background: fadeout(black, 45%);
	z-index: 60 !important;

	.qi-box {
		.transition-transform(.4s, linear);

		& > .close-btn {
			position: fixed;
			top: 10px;
			right: 34px;
			font-weight: bold;
		}

		.postCol {
			width: @postColWidth;
			width: (@postColWidth+50);
			position: relative;
			z-index: 1002;
			background: white;
			font-family: museo-sans;
			margin: auto;
			.box-shadow(0,0,10px,.5);

			.postHeader {
				padding: @postColPadding @postColPadding (@postColPadding - 15);
				word-wrap: break-word;

				.type, .stats {
					color: #888;
					font-size: 13px;
					display: inline-block;
				}
				.type {
					text-transform: uppercase;
					padding: 5px;
				}
				.stats {
					cursor: default;
					float: right;
				}
				.views {
					.icon-circle {
						margin: 0 5px;
						font-size: 3px;
					}
					.icon-eye2 {
						font-size: 16px;
						margin-top: -3px;
					}
				}

				.postTitle {
					color: #444;
					font-weight: 700;
					font-size: 40px;
					line-height: 1.1;
					margin: 20px 0 20px;
				}

				.tags {
					float: right;
					.tag {
						background: #BBB;
						color: white !important;
						.transition(all, .2s, linear);
						padding: 4px 6px;
						font-size: 12px;
						text-transform: uppercase;
						border-bottom: 2px solid rgba(0,0,0,.1);
						display: inline-block;
						margin-left: 5px;
						&:not(:hover) {
							border-color: transparent;
						}
					}
				}

				.authorInfo {
					font-size: 12px;
					display: inline-block;

					.user-avatar {
						height: 25px;
						width: 25px;
						border-radius: 40px;
						margin: 0 6px 0 0;
						// .box-shadow(1px, .4);
					}
					.username {
						font: 1.1em museo-sans;
						color: #444;
					}
				}
			}

			.linkDisplay {
				resize: none !important;
				overflow: hidden;
				outline: 0;
				border: 0;
				width: 100%;
				margin-bottom: 10px;
				display: table;
				position: relative;
				// background: @CBLUE;
				// color: white;
				outline: 0;
				background: #F6F6F6;
				cursor: pointer;

				outline: 0 !important;
				.no-box-shadow;

				.thumbnail {
					min-width: 200px;
					height: 180px;
					display: table-cell;
					.background-size(cover);
					background-position: center;
					vertical-align: top;
					text-align: center;
					position: relative;
					z-index: 1;
					vertical-align: middle;

					.blackout {
						.blackout(0);
						.transition(opacity 200ms linear);
					}

					&:hover {
						.blackout {
							.blackout(.3);
						}
						i {
							opacity: 1;
						}
					}
					&.show-icon {
						.blackout {
							opacity: .2 !important;
						}
						i {
							opacity: 1;
							color: #666;
						}
					}

					i {
						line-height: 80px;
						font-size: 40px;
						color: white;
						.transition(opacity 200ms linear);
						opacity: .4;
					}
				}

				.right {
					display: table-cell;
					padding: 20px;
					vertical-align: top;

					.title {
						font-size: 23px;
					}facebook.com
					.description {
						font-size: 15px;
					}
					.hostname {
					}
				}
			}

			.postBody {
				clear: both;
				// border-bottom: 1px solid #EAEAEA;
				overflow: hidden;
				color: #333;
				padding: 15px @postColPadding @postColPadding;
				font-size: 15px;
				.postBodyFormatting;
				// Bellow are settings specific to the qi-box
				& > img, & > iframe {
					margin: 30px 0;
					max-width: 100%;
				}
				iframe {
					width: 730px;
					height: 400px;
				}
				p:first-child img:first-child,
				& > img:first-child,
				& > iframe:first-child {
					max-width: 790px;
					margin: -@postColPadding -@postColPadding @postColPadding -@postColPadding;
					width: 790px;
				}
				& > *:last-child {
					margin-bottom: 0;
				}
				p:empty { display: none; }
			}

			.postFooter {
				padding: .1px;

			}
		}

		.question {
			display: table;
			width: 800px;

			.content-col {
				display: table-cell;
				vertical-align: top;

				.postHeader {
					padding: 10px 20px;

					.postTitle {
						font-size: 30px;
						margin: 10px 0;
					}

					.authorInfo {
						font-size: 12px;
					}
				}

				.content-col-window {
					overflow-y: auto;
					height: 300px;

					.title {
						font: 23px museo-sans;
					}

					.content {
						padding: 30px;

						.postBody {
							padding: 0;
						}
					}
				}

				.fixed-footer {
					height: 60px;
					line-height: 60px;
					padding: 0 20px;
					border-top: 1px solid #DDD;
					-webkit-box-shadow: 0 -33px 20px -35px rgba(0,0,0,.5);
					-moz-box-shadow: 0 -33px 20px -35px rgba(0,0,0,.5);
					box-shadow: 0 -33px 20px -35px rgba(0,0,0,.5);

					.user-avatar {
						width: 30px;
						height: 30px;
						border-radius: 30px;
						margin-right: 10px;
					}
					.info {
						display: inline-block;
						color: #777;
						font-size: 15px;
						a {
							color: mix(#444, blue, 55%);
							text-decoration: underline;
						}
					}
					[class*=label] {
						margin-right: 5px;
					}
					.actions {
						display: inline-block;
						float: right;
					}
				}
			}

			.answer-col {
				width: 250px;
				max-width: 250px;
				min-width: 250px;
				display: table-cell;
				border-left: 1px solid #DDD;
				background: #EEE;

				&.alternative {
					background: mix(@CBLUE, @CGREEN);
					border-left-color: darken(mix(@CBLUE, @CGREEN), 5%);
					color: white;
				}

				.message {
					font-size: 20px;
					padding: 20px;
					margin-top: 20px;
				}

				.answer-col-mc {
					width: 300px;
					display: table-cell;
					padding: 30px;

					li {
						display: block;
						margin: 0 0 6px;
						list-style: none;

						button {
							.high-xbtn(white, mix(@CBLUE,@CGREEN));
							margin: 0;
							text-align: left;
							width: 100%;
							font: 17px museo-sans;
						}
					}
				}

				.answer-col-value {
					width: 300px;
					display: table-cell;
					padding: 30px;

					label {
						font-size: 16px;
						font-family: "PT Serif", Georgia;
						margin-bottom: 10px;
					}

					input {
						display: block;
						width: 100%;
						padding: 10px;
						font-size: 15px;
						margin: 0 0 10px;
						list-style: none;
						border: 1px solid #DDD;
						border-radius: 2px;
						&:focus {
							border-color: @CORANGE;
						}
						outline: 0;
						.transition;
					}

					.tries-left {
						color: #AAA;
						font-size: 13px;
						font-weight: bold;
						margin: 10px 0;
					}

					.try-answer {
						.high-xbtn(white, @CORANGE);
						width: 100%;
						font: bold 14px museo-sans;
						margin: 0;
					}
				}
			}
		}
	}
}